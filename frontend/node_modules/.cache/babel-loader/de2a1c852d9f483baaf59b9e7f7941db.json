{"ast":null,"code":"var _jsxFileName = \"/home/lezend/Desktop/WORKSPACE FOURTH SEMESTER/Software Engineering/Project/SPRINT3/Sprint3Final/frontend/web/src/components/pages/index/SignUp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from 'axios';\nimport { withRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Register(props) {\n  _s();\n\n  const bcrypt = require('bcryptjs');\n\n  const pathname = props.location.pathname;\n  console.log(pathname);\n  const [state, setState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    confirm_password: \"\",\n    user_type: pathname\n  }); //this function handles all the changes made to the state variables\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  const sendDetailsToServer = () => {\n    axios.post('http://0.0.0.0:8086/register', {\n      name: state.name,\n      email: state.email,\n      password: bcrypt.hashSync(state.password, bcrypt.genSaltSync()),\n      user_type: state.user_type\n    }).then(response => {\n      // console.log(response.data)\n      var x = response.data;\n      console.log(x['success']);\n\n      if (x['success'] === true) {\n        alert(\"Sucess\"); //redirect to home page later on once it is created\n\n        redirectToHome();\n      } else {\n        alert(\"Failure\");\n      }\n    }).catch(error => {\n      console.log(error.response);\n    });\n  };\n\n  const handleSubmitClick = e => {\n    e.preventDefault(); // prevents the default form submit action to take place\n\n    if (state.password === state.confirm_password) {\n      sendDetailsToServer();\n    } else {\n      alert('Passwords do not match');\n    }\n  };\n\n  console.log(state);\n\n  const redirectToHome = () => {\n    window.location.replace('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"base-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \" Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"full name\",\n            name: \"name\",\n            value: state.name,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"email\",\n            name: \"email\",\n            value: state.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"password\",\n            name: \"password\",\n            value: state.password,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"re-enter password\",\n            name: \"confirm_password\",\n            value: state.confirm_password,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn\",\n        onClick: handleSubmitClick,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-user-plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"syoM2zpPf43vIXROEXfm0NM75I8=\");\n\n_c = Register;\nexport default _c2 = withRouter(Register);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Register\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/lezend/Desktop/WORKSPACE FOURTH SEMESTER/Software Engineering/Project/SPRINT3/Sprint3Final/frontend/web/src/components/pages/index/SignUp.js"],"names":["React","useState","axios","withRouter","Register","props","bcrypt","require","pathname","location","console","log","state","setState","name","email","password","confirm_password","user_type","handleChange","e","value","target","prevState","sendDetailsToServer","post","hashSync","genSaltSync","then","response","x","data","alert","redirectToHome","catch","error","handleSubmitClick","preventDefault","window","replace"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAO,aAAP;;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AAEvB,QAAMC,MAAM,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AAEA,QAAMC,QAAQ,GAAGH,KAAK,CAACI,QAAN,CAAeD,QAAhC;AAEAE,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AAEA,QAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC;AACjCa,IAAAA,IAAI,EAAE,EAD2B;AAEjCC,IAAAA,KAAK,EAAE,EAF0B;AAGjCC,IAAAA,QAAQ,EAAE,EAHuB;AAIjCC,IAAAA,gBAAgB,EAAE,EAJe;AAKjCC,IAAAA,SAAS,EAAEV;AALsB,GAAD,CAAlC,CARuB,CAgBvB;;AACA,QAAMW,YAAY,GAAIC,CAAD,IAAO;AAC1B,UAAM;AAAEN,MAAAA,IAAF;AAAQO,MAAAA;AAAR,QAAkBD,CAAC,CAACE,MAA1B;AACAT,IAAAA,QAAQ,CAACU,SAAS,KAAK,EACrB,GAAGA,SADkB;AAErB,OAACT,IAAD,GAAQO;AAFa,KAAL,CAAV,CAAR;AAID,GAND;;AAOA,QAAMG,mBAAmB,GAAG,MAAM;AAChCtB,IAAAA,KAAK,CAACuB,IAAN,CAAW,8BAAX,EACE;AACEX,MAAAA,IAAI,EAAEF,KAAK,CAACE,IADd;AAEEC,MAAAA,KAAK,EAAEH,KAAK,CAACG,KAFf;AAGEC,MAAAA,QAAQ,EAAEV,MAAM,CAACoB,QAAP,CAAgBd,KAAK,CAACI,QAAtB,EAAgCV,MAAM,CAACqB,WAAP,EAAhC,CAHZ;AAIET,MAAAA,SAAS,EAAEN,KAAK,CAACM;AAJnB,KADF,EAOGU,IAPH,CAOQC,QAAQ,IAAI;AAChB;AAEA,UAAIC,CAAC,GAAGD,QAAQ,CAACE,IAAjB;AAEArB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,CAAC,CAAC,SAAD,CAAb;;AAEA,UAAIA,CAAC,CAAC,SAAD,CAAD,KAAiB,IAArB,EAA2B;AACzBE,QAAAA,KAAK,CAAC,QAAD,CAAL,CADyB,CAEzB;;AACAC,QAAAA,cAAc;AACf,OAJD,MAKK;AACHD,QAAAA,KAAK,CAAC,SAAD,CAAL;AACD;AACF,KAtBH,EAuBGE,KAvBH,CAuBSC,KAAK,IAAI;AACdzB,MAAAA,OAAO,CAACC,GAAR,CAAYwB,KAAK,CAACN,QAAlB;AACD,KAzBH;AA0BD,GA3BD;;AA6BA,QAAMO,iBAAiB,GAAIhB,CAAD,IAAO;AAC/BA,IAAAA,CAAC,CAACiB,cAAF,GAD+B,CAE/B;;AACA,QAAIzB,KAAK,CAACI,QAAN,KAAmBJ,KAAK,CAACK,gBAA7B,EAA+C;AAC7CO,MAAAA,mBAAmB;AAEpB,KAHD,MAGO;AACLQ,MAAAA,KAAK,CAAC,wBAAD,CAAL;AACD;AAEF,GAVD;;AAYAtB,EAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;;AAEA,QAAMqB,cAAc,GAAE,MAAM;AAC1BK,IAAAA,MAAM,CAAC7B,QAAP,CAAgB8B,OAAhB,CAAwB,GAAxB;AACH,GAFC;;AAGA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,gCAEE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACE;AAAO,YAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,WAAW,EAAC,WAA/B;AAA2C,YAAA,IAAI,EAAC,MAAhD;AAAuD,YAAA,KAAK,EAAE3B,KAAK,CAACE,IAApE;AAA0E,YAAA,QAAQ,EAAEK,YAApF;AAAkG,YAAA,QAAQ;AAA1G;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAOE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACE;AAAO,YAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,WAAW,EAAC,OAA/B;AAAuC,YAAA,IAAI,EAAC,OAA5C;AAAoD,YAAA,KAAK,EAAEP,KAAK,CAACG,KAAjE;AAAwE,YAAA,QAAQ,EAAEI,YAAlF;AAAgG,YAAA,QAAQ;AAAxG;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,eAWE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACE;AAAO,YAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,WAAW,EAAC,UAAnC;AAA8C,YAAA,IAAI,EAAC,UAAnD;AAA8D,YAAA,KAAK,EAAEP,KAAK,CAACI,QAA3E;AAAqF,YAAA,QAAQ,EAAEG,YAA/F;AAA6G,YAAA,QAAQ;AAArH;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF,eAeE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACE;AAAO,YAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,WAAW,EAAC,mBAAnC;AAAuD,YAAA,IAAI,EAAC,kBAA5D;AAA+E,YAAA,KAAK,EAAEP,KAAK,CAACK,gBAA5F;AAA8G,YAAA,QAAQ,EAAEE,YAAxH;AAAsI,YAAA,QAAQ;AAA9I;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFF,eAwBE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,6BACE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,KAAhC;AAAsC,QAAA,OAAO,EAAEiB,iBAA/C;AAAA,+BACE;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgCD;;GAtGQhC,Q;;KAAAA,Q;AAwGT,qBAAeD,UAAU,CAACC,QAAD,CAAzB","sourcesContent":["import React, { useState } from \"react\";\nimport axios from 'axios';\nimport { withRouter } from \"react-router-dom\";\nimport \"./index.css\";\n\nfunction Register(props) {\n\n  const bcrypt = require('bcryptjs')\n\n  const pathname = props.location.pathname\n\n  console.log(pathname)\n\n  const [state, setState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    confirm_password: \"\",\n    user_type: pathname\n  })\n\n  //this function handles all the changes made to the state variables\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    setState(prevState => ({\n      ...prevState,\n      [name]: value\n    }))\n  }\n  const sendDetailsToServer = () => {\n    axios.post('http://0.0.0.0:8086/register',\n      {\n        name: state.name,\n        email: state.email,\n        password: bcrypt.hashSync(state.password, bcrypt.genSaltSync()),\n        user_type: state.user_type\n      })\n      .then(response => {\n        // console.log(response.data)\n\n        var x = response.data\n\n        console.log(x['success'])\n\n        if (x['success'] === true) {\n          alert(\"Sucess\")\n          //redirect to home page later on once it is created\n          redirectToHome()\n        }\n        else {\n          alert(\"Failure\")\n        }\n      })\n      .catch(error => {\n        console.log(error.response)\n      });\n  }\n\n  const handleSubmitClick = (e) => {\n    e.preventDefault();\n    // prevents the default form submit action to take place\n    if (state.password === state.confirm_password) {\n      sendDetailsToServer()\n\n    } else {\n      alert('Passwords do not match');\n    }\n\n  }\n\n  console.log(state);\n\n  const redirectToHome= () => {\n    window.location.replace('/'); \n}\n  return (\n    <div className=\"base-container\">\n      <div className=\"header\">Register</div>\n      <div className=\"content\">\n        <div className=\"form\">\n\n          <div className=\"form-group\">\n            <label htmlFor=\"name\"> Full Name</label>\n            <input type=\"text\" placeholder=\"full name\" name=\"name\" value={state.name} onChange={handleChange} required/>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email</label>\n            <input type=\"text\" placeholder=\"email\" name=\"email\" value={state.email} onChange={handleChange} required/>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" placeholder=\"password\" name=\"password\" value={state.password} onChange={handleChange} required/>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Confirm Password</label>\n            <input type=\"password\" placeholder=\"re-enter password\" name=\"confirm_password\" value={state.confirm_password} onChange={handleChange} required/>\n          </div>\n        </div>\n      </div>\n      <div className=\"footer\">\n        <button type=\"submit\" className=\"btn\" onClick={handleSubmitClick}>\n          <i className=\"fas fa-user-plus\"></i>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Register);"]},"metadata":{},"sourceType":"module"}