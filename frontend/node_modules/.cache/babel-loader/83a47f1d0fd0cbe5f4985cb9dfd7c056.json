{"ast":null,"code":"var _jsxFileName = \"/home/lezend/Desktop/WORKSPACE FOURTH SEMESTER/Software Engineering/Project/SPRINT3/Sprint3Final/frontend/web/src/components/pages/index/login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from 'axios';\nimport { withRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const bcrypt = require('bcryptjs');\n\n  const pathname = props.location.pathname;\n  console.log(pathname);\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    user_type: pathname\n  });\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setState(prevState => ({ ...prevState,\n      [name]: value\n    }));\n  };\n\n  const authenticate_user = () => {\n    axios.post('http://0.0.0.0:8086/auth', {\n      name: state.name,\n      email: state.email,\n      user_type: state.user_type\n    }).then(response => {\n      // console.log(response.data)\n      var x = response.data;\n      console.log(x['password']);\n\n      if (x['password'] === false) {\n        alert(\"User not registered!!!\");\n      } else {\n        const doesPasswordMatch = bcrypt.compareSync(state.password, x['password']);\n\n        if (doesPasswordMatch) {\n          //if passwords match\n          redirectToDisplay();\n        } else {\n          alert(\"Wrong Password!!\");\n        }\n      }\n    }).catch(error => {\n      console.log(error.response);\n    });\n  };\n\n  const redirectToDisplay = () => {\n    // props.history.push('/display')\n    window.location.replace('/display');\n  };\n\n  const handleSubmitClick = e => {\n    e.preventDefault(); // prevents the default form submit action to take place\n\n    authenticate_user();\n  };\n\n  console.log(state);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"base-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"email\",\n            placeholder: \"email\",\n            value: state.email,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"password\",\n            value: state.password,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn\",\n        onClick: handleSubmitClick,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-sign-in-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"SeQZahbWp8ReGDWNq4vdVSnRsf8=\");\n\n_c = Login;\nexport default _c2 = withRouter(Login);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/lezend/Desktop/WORKSPACE FOURTH SEMESTER/Software Engineering/Project/SPRINT3/Sprint3Final/frontend/web/src/components/pages/index/login.js"],"names":["React","useState","axios","withRouter","Login","props","bcrypt","require","pathname","location","console","log","state","setState","email","password","user_type","handleChange","e","name","value","target","prevState","authenticate_user","post","then","response","x","data","alert","doesPasswordMatch","compareSync","redirectToDisplay","catch","error","window","replace","handleSubmitClick","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from 'axios';\nimport { withRouter } from \"react-router-dom\";\nimport \"./index.css\";\n\n\n\nfunction Login(props) {\n\n  const bcrypt = require('bcryptjs')\n\n  const pathname = props.location.pathname\n\n  console.log(pathname)\n\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    user_type: pathname\n  })\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    setState(prevState => ({\n      ...prevState,\n      [name]: value\n    }))\n  }\n\n  const authenticate_user = () => {\n    axios.post('http://0.0.0.0:8086/auth',\n      {\n        name: state.name,\n        email: state.email,\n        user_type: state.user_type\n      })\n      .then(response => {\n        // console.log(response.data)\n\n        var x = response.data\n\n        console.log(x['password'])\n\n        if (x['password']===false)\n        {\n          alert(\"User not registered!!!\")\n        }\n        else\n        {\n          const doesPasswordMatch = bcrypt.compareSync(state.password, x['password'])\n\n          if (doesPasswordMatch) { //if passwords match\n            redirectToDisplay()\n          }\n          else {\n            alert(\"Wrong Password!!\")\n          }\n        }\n      })\n      .catch(error => {\n        console.log(error.response)\n      });\n\n  }\n\n  const redirectToDisplay =() => {\n    // props.history.push('/display')\n    window.location.replace('/display')\n}\n\n  const handleSubmitClick = (e) => {\n    e.preventDefault();\n    // prevents the default form submit action to take place\n\n    authenticate_user()\n\n  }\n\n  console.log(state);\n\n  return (\n    <div className=\"base-container\">\n      <div className=\"header\">Login</div>\n      <div className=\"content\">\n        <div className=\"form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email</label>\n            <input type=\"text\"  name=\"email\" placeholder=\"email\" value={state.email} onChange={handleChange} required/>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input type=\"password\" name=\"password\" placeholder=\"password\" value={state.password}  onChange={handleChange} required/>\n          </div>\n        </div>\n      </div>\n      <div className=\"footer\">\n        <button type=\"submit\" className=\"btn\"  onClick={handleSubmitClick}>\n          <i className=\"fas fa-sign-in-alt\"></i>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}